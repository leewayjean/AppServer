(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72d788fe"],{3300:function(t,e,n){"use strict";var o=n("faf9"),r=n.n(o);r.a},4853:function(t,e,n){"use strict";var o=n("7cd1"),r=n.n(o);r.a},"7cd1":function(t,e,n){},a55b:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[t._m(0),n("InputGroup",{attrs:{type:"number",placeholder:"手机号",btnTitle:t.btnTitle,disabled:t.is_disabled,error:t.errors.phone},on:{btnClick:t.getVerifyCode},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),n("InputGroup",{attrs:{type:"number",placeholder:"验证码",error:t.errors.code},model:{value:t.verifyCode,callback:function(e){t.verifyCode=e},expression:"verifyCode"}}),t._m(1),n("input",{staticClass:"loginBtn",class:{toLoginClass:!t.btnDisabled},attrs:{type:"submit",value:"登录",disabled:t.btnDisabled},on:{click:t.toLogin}})],1)},r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"logo"},[o("img",{attrs:{src:n("b640"),alt:"logo"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"tip"},[t._v("\n    新用户登录即自动注册表示已同意\n    "),n("a",{attrs:{href:"#"}},[t._v("《用户服务协议》")])])}],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-text"},[n("div",{staticClass:"input-group",class:{isErrorClass:t.isError}},[n("input",{attrs:{type:t.type,placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),t.btnTitle?n("button",{attrs:{disabled:t.disabled},on:{click:function(e){return t.$emit("btnClick")}}},[t._v(t._s(t.btnTitle))]):t._e()]),t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e()])},s=[],a={props:{type:{type:String,default:"text"},placeholder:String,value:String,btnTitle:String,disabled:Boolean,error:String},computed:{isError:function(){return!!this.error}}},c=a,l=(n("4853"),n("6691")),u=Object(l["a"])(c,i,s,!1,null,"40186930",null),p=u.exports,h={data:function(){return{phone:"",verifyCode:"",errors:{phone:"",code:""},btnTitle:"获取验证码",falg:!0}},computed:{is_disabled:function(){return!this.phone||!this.falg},btnDisabled:function(){return!this.phone||!this.verifyCode}},methods:{getVerifyCode:function(){this.checkPhoneNumber(),this.checkPhoneNumber()&&(this.falg=!1,this.countDown(),this.axios.post("/api/posts/sms_send",{tpl_id:"154132",key:"fa397665b6a45e0bd95c36bee4d6bd79",phone:this.phone}).then((function(t){console.log(t)})).catch((function(t){throw t})))},countDown:function(){var t=this,e=30,n=null;n=setInterval((function(){t.btnTitle="剩".concat(e,"秒"),e--,e<0&&(t.btnTitle="重新获取",t.falg=!0,clearInterval(n))}),1e3)},checkPhoneNumber:function(){var t=/^1([38]\d|5[0-35-9]|7[3678])\d{8}$/;if(t.test(this.phone))return this.errors={},!0;this.errors.phone="请输入有效的手机号码"},toLogin:function(){var t=this;this.checkPhoneNumber()&&this.axios.post("/api/posts/sms_back",{phone:this.phone,code:this.verifyCode}).then((function(e){localStorage.setItem("is_login",!0),t.$router.push("/")})).catch((function(e){t.errors.code=e.response.data.msg}))}},components:{InputGroup:p}},d=h,f=(n("3300"),Object(l["a"])(d,o,r,!1,null,"7f7cbae3",null));e["default"]=f.exports},b640:function(t,e,n){t.exports=n.p+"img/logo.87ab03f8.jpg"},faf9:function(t,e,n){}}]);
//# sourceMappingURL=chunk-72d788fe.fc0242e9.js.map