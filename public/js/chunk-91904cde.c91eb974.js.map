{"version":3,"sources":["webpack:///./src/components/Location.vue?a269","webpack:///src/components/Location.vue","webpack:///./src/components/Location.vue?3eda","webpack:///./src/components/Location.vue","webpack:///./node_modules/_core-js@2.6.10@core-js/modules/web.dom.iterable.js","webpack:///./src/views/Cities.vue?68ad","webpack:///src/views/Cities.vue","webpack:///./src/views/Cities.vue?1aaf","webpack:///./src/views/Cities.vue","webpack:///./node_modules/_core-js@2.6.10@core-js/modules/_object-sap.js","webpack:///./node_modules/_core-js@2.6.10@core-js/modules/_strict-method.js","webpack:///./src/components/Location.vue?37bb","webpack:///./src/views/Cities.vue?a78b","webpack:///./node_modules/_core-js@2.6.10@core-js/modules/es6.array.sort.js","webpack:///./node_modules/_core-js@2.6.10@core-js/modules/es6.object.keys.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","$router","push","_v","_s","address","staticRenderFns","component","$iterators","getKeys","redefine","global","hide","Iterators","wks","ITERATOR","TO_STRING_TAG","ArrayValues","Array","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","i","length","key","NAME","explicit","Collection","proto","prototype","directives","name","rawName","value","expression","attrs","domProps","target","composing","searchCity","go","ref","searchCitiesList","_l","index","refInFor","item","selectCity","city","scrollTo","_e","data","cities","allCities","keys","BScroll","watch","filter","indexOf","computed","$store","state","components","Location","methods","getCities","axios","get","then","pop","sort","forEach","newKeys","citiesArray","newCities","res","_initBScroll","click","scrollToElement","citiesElemmet","created","$nextTick","$export","core","fails","module","exports","KEY","exec","fn","Object","exp","S","F","method","arg","call","aFunction","toObject","$sort","test","P","undefined","comparefn","$keys","it"],"mappings":"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","file":"js/chunk-91904cde.c91eb974.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"location\",on:{\"click\":function($event){return _vm.$router.push('/home')}}},[_c('p',{staticClass:\"tip\"},[_vm._v(\"当前定位\")]),_c('p',{staticClass:\"location-text\"},[_c('i',{staticClass:\"iconfont icondizhi\"}),_vm._v(\"\\n    \"+_vm._s(_vm.address)+\"\\n  \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"location\" @click=\"$router.push('/home')\">\r\n    <!-- 提示当前定位 -->\r\n    <p class=\"tip\">当前定位</p>\r\n    <!-- 当前位置信息 -->\r\n    <p class=\"location-text\">\r\n      <i class=\"iconfont icondizhi\"></i>\r\n      {{address}}\r\n    </p>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    props:{\r\n        address:{\r\n            type:String,\r\n            default:\"\"\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n/* 当前定位 --样式 */\r\n.tip {\r\n  padding: 10px 0;\r\n  font-size: 12px;\r\n  color: #333;\r\n}\r\n/* 地址字体样式 */\r\n.location-text {\r\n  font-size: 14px;\r\n  color: #000;\r\n  font-weight: bold;\r\n  /* 超出省略 */\r\n  max-width: 25em;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n/* 地址图标样式 */\r\n.location-text .icondizhi {\r\n  font-size: 12px;\r\n  color: #009eef;\r\n  margin-right: 5px;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Location.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Location.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Location.vue?vue&type=template&id=2f11fa82&scoped=true&\"\nimport script from \"./Location.vue?vue&type=script&lang=js&\"\nexport * from \"./Location.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Location.vue?vue&type=style&index=0&id=2f11fa82&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f11fa82\",\n  null\n  \n)\n\nexport default component.exports","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cities\"},[_c('div',{staticClass:\"search-cities\"},[_c('div',{staticClass:\"form-group\"},[_c('p',{staticClass:\"search-input-group\"},[_c('i',{staticClass:\"iconfont iconsousuo\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchCity),expression:\"searchCity\"}],staticClass:\"search-input\",attrs:{\"type\":\"text\",\"placeholder\":\"输入城市名\"},domProps:{\"value\":(_vm.searchCity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchCity=$event.target.value}}})]),_c('span',{staticClass:\"search-btn\",on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"取消\")])]),_c('Location',{attrs:{\"address\":_vm.address}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cities),expression:\"cities\"}],ref:\"cities\",staticClass:\"city-list\"},[(_vm.searchCitiesList.length == 0)?_c('ul',{staticClass:\"cities-wrapper\"},[_vm._l((_vm.cities),function(value,key,index){return _c('li',{key:index,ref:\"item\",refInFor:true},[_c('h3',{staticClass:\"city-title\"},[_vm._v(_vm._s(key))]),_c('ul',_vm._l((value),function(item,index){return _c('li',{key:index,staticClass:\"city-item\",on:{\"click\":function($event){return _vm.selectCity(item.name)}}},[_vm._v(_vm._s(item.name))])}),0)])}),_c('p',{staticClass:\"tip\"},[_vm._v(\"我也是有底线滴~\")])],2):_c('ul',{staticClass:\"searchCities-list\"},_vm._l((_vm.searchCitiesList),function(city,index){return _c('li',{key:index,staticClass:\"city-item\",on:{\"click\":function($event){return _vm.selectCity(city)}}},[_vm._v(\"\\n          \"+_vm._s(city)+\"\\n        \")])}),0)]),(_vm.searchCitiesList.length<1)?_c('ul',{staticClass:\"sideBar\"},_vm._l((_vm.keys),function(key,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.scrollTo(index)}}},[_vm._v(_vm._s(key))])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"cities\">\r\n    <!-- 顶部搜索区 -->\r\n    <div class=\"search-cities\">\r\n      <div class=\"form-group\">\r\n        <!-- 输入框 -->\r\n        <p class=\"search-input-group\">\r\n          <i class=\"iconfont iconsousuo\"></i>\r\n          <input type=\"text\" class=\"search-input\" placeholder=\"输入城市名\" v-model=\"searchCity\">\r\n        </p>\r\n        <!-- 取消按钮 -->\r\n        <span class=\"search-btn\" @click=\"$router.go(-1)\">取消</span>\r\n      </div>\r\n      <!-- 当前位置 -->\r\n      <Location :address=\"address\"/>\r\n    </div>\r\n      <div class=\"city-list\" ref=\"cities\" v-show=\"cities\">\r\n        <!-- 全国城市列表 -->\r\n        <ul class=\"cities-wrapper\" v-if=\"searchCitiesList.length == 0\">\r\n          <li v-for=\"(value,key,index) in cities\" :key=\"index\" ref=\"item\">\r\n            <h3 class=\"city-title\">{{key}}</h3>\r\n            <ul>\r\n              <li\r\n                class=\"city-item\"\r\n                v-for=\"(item,index) in value\"\r\n                @click=\"selectCity(item.name)\"\r\n                :key=\"index\"\r\n              >{{item.name}}</li>\r\n            </ul>\r\n          </li>\r\n          <p class=\"tip\">我也是有底线滴~</p>\r\n        </ul>\r\n        <!-- 检索的城市列表 -->\r\n        <ul class=\"searchCities-list\" v-else>\r\n          <li class=\"city-item\" \r\n          v-for=\"(city,index) in searchCitiesList\" \r\n          @click=\"selectCity(city)\"\r\n          :key=\"index\">\r\n            {{city}}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <!-- 侧边导航栏 -->\r\n    <ul class=\"sideBar\" v-if=\"searchCitiesList.length<1\">\r\n      <li v-for=\"(key,index) in keys\" @click=\"scrollTo(index)\" :key=\"index\">{{key}}</li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Location from \"../components/Location.vue\";\r\nimport BScroll from \"better-scroll\";\r\nexport default {\r\n  name: \"cities\",\r\n  data() {\r\n    return {\r\n      cities: null, //全国城市，已经按key值排序\r\n      allCities: [], // 所有的城市，没有key\r\n      keys: [], // #,A到Z字母排序,\r\n      BScroll: {}, //better-scroll 实例\r\n      searchCity:\"\",\r\n      searchCitiesList:[],//检索的城市列表\r\n    };\r\n  },\r\n  watch:{\r\n    searchCity(){\r\n      this.searchCitiesList = this.allCities.filter((city) => {\r\n        return city.indexOf(this.searchCity) !== -1;\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    address() {\r\n      return this.$store.state.address;\r\n    }\r\n  },\r\n  components: {\r\n    Location\r\n  },\r\n  methods: {\r\n    // 获取全国城市列表\r\n    getCities() {\r\n      this.axios.get(\"/api/posts/cities\").then(res => {\r\n        let cities = res.data;\r\n        //\r\n        let keys = Object.keys(res.data);\r\n        keys.pop(); //将热门城市删除\r\n        keys.sort(); //A-Z进行排序\r\n        // 储存排序后的key，用于遍历侧边栏\r\n        let newKeys = [\"#\"];\r\n        keys.forEach(key => {\r\n          newKeys.push(key);\r\n        });\r\n        this.keys = newKeys;\r\n        let citiesArray = [];\r\n        keys.forEach(key => {\r\n          citiesArray.push(cities[key]);\r\n        });\r\n        let newCities = {};\r\n        newCities[\"热门城市\"] = cities[\"hotCities\"];\r\n        for (let i = 0; i < keys.length; i++) {\r\n          newCities[keys[i]] = citiesArray[i];\r\n        }\r\n        // 全国城市，已按key值排序\r\n        this.cities = newCities;\r\n        keys.forEach(key => {\r\n          res.data[key].forEach(item => {\r\n            this.allCities.push(item.name); //全国城市数组\r\n          });\r\n        });\r\n      });\r\n    },\r\n    // 初始化better-scroll 实例\r\n    _initBScroll() {\r\n      this.BScroll = new BScroll(this.$refs.cities, {\r\n        click: true\r\n      });\r\n    },\r\n    // 点击侧边栏滚动到元素\r\n    scrollTo(index) {\r\n      let citiesElemmet = this.$refs.item;\r\n      this.BScroll.scrollToElement(citiesElemmet[index], 200);\r\n    },\r\n    selectCity(city) {\r\n      this.$store.state.city = city;\r\n      this.$router.push(\"/address\");\r\n    }\r\n  },\r\n  created() {\r\n    // 获取全国城市列表\r\n    this.getCities();\r\n    // 异步更新后实例化better-scroll对象\r\n    this.$nextTick(() => {\r\n      this._initBScroll();\r\n    })\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.cities {\r\n  height:100%;\r\n  background: #f1f1f1;\r\n}\r\n.search-cities {\r\n  padding: 12px 16px;\r\n  background: #fff;\r\n}\r\n.form-group {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-wrap: nowrap;\r\n}\r\n.search-input-group {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  padding-left: 8px;\r\n\r\n  flex: 1;\r\n  height: 40px;\r\n  background: #f1f1f1;\r\n  border-radius: 10px;\r\n}\r\n.search-input {\r\n  border: none;\r\n  outline: none;\r\n  background: #f1f1f1;\r\n  text-indent: 0.5em;\r\n}\r\n.search-btn {\r\n  font-size: 12px;\r\n  display: inline-block;\r\n  margin-left: 10px;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  color: #009eef;\r\n}\r\n\r\n/* 城市列表 */\r\n\r\n.city-list {\r\n  height:calc(100% - 153px);\r\n  background: #fff;\r\n  margin-top: 10px;\r\n  padding: 16px;\r\n  overflow: hidden;\r\n}\r\n.city-title {\r\n  font-size: 14px;\r\n  color: #aaa;\r\n  padding: 15px 0;\r\n}\r\n.city-item {\r\n  font-size: 14px;\r\n  padding: 10px;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n/* 热门城市 */\r\n.cities-wrapper li:first-child ul {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n.cities-wrapper li:first-child li {\r\n  width: 30%;\r\n  box-sizing: border-box;\r\n  text-align: center;\r\n  border-radius: 4px;\r\n  background: #f1f1f1;\r\n  margin: 0 10px 10px 0;\r\n}\r\n\r\n.sideBar {\r\n  position: fixed;\r\n  right: 0;\r\n  top: 25%;\r\n}\r\n.sideBar li {\r\n  line-height: 1.2em;\r\n  text-align: center;\r\n  font-size: 12px;\r\n  color: #aaa;\r\n}\r\n.tip {\r\n  font-size: 12px;\r\n  color:#aaa;\r\n  text-align: center;\r\n  padding:15px 0;\r\n}\r\n</style>\r\n\r\n\r\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Cities.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Cities.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cities.vue?vue&type=template&id=2a2ccd10&scoped=true&\"\nimport script from \"./Cities.vue?vue&type=script&lang=js&\"\nexport * from \"./Cities.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Cities.vue?vue&type=style&index=0&id=2a2ccd10&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a2ccd10\",\n  null\n  \n)\n\nexport default component.exports","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Location.vue?vue&type=style&index=0&id=2f11fa82&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Location.vue?vue&type=style&index=0&id=2f11fa82&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Cities.vue?vue&type=style&index=0&id=2a2ccd10&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Cities.vue?vue&type=style&index=0&id=2a2ccd10&scoped=true&lang=css&\"","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n"],"sourceRoot":""}